(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-483a733c"],{8496:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"PageBox",style:1==t.infoData.o_status||2==t.infoData.o_status?"padding-bottom: 64px":""},[t.infoData?e("div",{staticClass:"ScrollBox"},[e("div",{staticClass:"Details"},[e("img",{staticClass:"StateIcon",attrs:{src:"./static/zxwlpic/state"+t.infoData.o_status+"-"+t.$i18n.locale+".png",height:"90"}}),e("dl",[e("dd",[e("label",[t._v(t._s(t.$t("task.info[1]"))+"：")]),e("span",[t._v(t._s(t.infoData.title))])]),e("dd",[e("label",[t._v(t._s(t.$t("task.info[2]"))+"：")]),e("span",[t._v(t._s(t.InitData.currency)),e("i",[t._v("+"+t._s(t.infoData.reward_price))])])]),e("dd",[e("label",[t._v(t._s(t.$t("task.info[3]"))+"：")]),e("span",[t._v(t._s(t.infoData.content))])]),e("dd",[e("label",[t._v(t._s(t.$t("task.info[4]"))+"：")]),e("span",[t._v(t._s(t.infoData.requirement))])]),1==t.infoData.o_status?e("dd",[e("label",[t._v(t._s(t.$t("task.info[5]"))+"：")]),e("van-uploader",{attrs:{"after-read":t.afterRead,multiple:""},model:{value:t.exampleImg,callback:function(a){t.exampleImg=a},expression:"exampleImg"}})],1):e("dd",[e("label",[t._v(t._s(t.$t("task.info[5]"))+"：")]),t.infoData.o_examine_demo.length?e("div",t._l(t.infoData.o_examine_demo,(function(a,i){return e("van-image",{key:i,attrs:{fit:"cover",width:"49",height:"49",src:""+a},on:{click:function(e){return t.$ImagePreview([""+a])}}})})),1):e("span",[t._v(t._s(t.$t("task.info[6]")))])]),1!=t.infoData.o_status&&2!=t.infoData.o_status&&6!=t.infoData.o_status?e("dd",[e("label",[t._v(t._s(t.$t("task.info[7]"))+"：")]),e("span",[t._v(t._s(t.infoData.handle_remarks))])]):t._e(),6!=t.infoData.o_status?e("dd",[e("label",[t._v(t._s(t.$t("task.info[8]"))+"：")]),e("span",[t._v(t._s(t.infoData.handle_time))])]):t._e()]),e("dl",[e("dt",{staticStyle:{"justify-content":"flex-start"}},[e("label",[e("img",{staticStyle:{"border-radius":"100%","vertical-align":"middle","margin-right":"10px"},attrs:{src:"./static/head/"+t.infoData.f_header,height:"40"}})]),e("span",[e("p",[t._v(t._s(t.$t("task.info[9]")))]),e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[t._v(t._s(t.infoData.f_username)+" "),e("em",{staticStyle:{color:"#999","font-size":"12px"}},[t._v(t._s(t.infoData.add_time)+" "+t._s(t.$t("task.info[10]")))])])])]),1==t.infoData.is_fx?e("dd",{staticStyle:{"border-top":"1px #2d3446 solid","padding-top":"13px"}},[e("label",[t._v(t._s(t.$t("task.info[20]"))+"：")]),e("textarea",{staticStyle:{width:"100%",flex:"1","margin-right":"5px","border-radius":"10px",padding:"5px 8px",border:"0","background-color":"#f5f5f5",color:"#888",position:"relative","z-index":"9"},attrs:{rows:"3"}},[t._v(t._s(t.infoData.link_info))]),e("input",{staticClass:"link",staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppLink",type:"text",readonly:""},domProps:{value:t.infoData.link_info}}),e("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosLink"}},[t._v(t._s(t.infoData.link_info))]),e("div",[e("van-button",{attrs:{block:"",size:"mini",type:"info",round:""},on:{click:function(a){return t.$Util.CopyText("IosLink","AppLink")}}},[t._v(t._s(t.$t("task.show[7]")))])],1)]):e("dd",{staticStyle:{"border-top":"1px #2d3446 solid","padding-top":"13px"}},[e("input",{staticClass:"link",staticStyle:{position:"relative","z-index":"9"},attrs:{id:"AppLink",type:"text",readonly:""},domProps:{value:t.infoData.link_info}}),e("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosLink"}},[t._v(t._s(t.infoData.link_info))]),e("div",[e("van-button",{attrs:{block:"",size:"mini",plain:"",round:""},on:{click:function(a){return t.$Util.CopyText("IosLink","AppLink")}}},[t._v(t._s(t.$t("task.info[11]")))]),e("van-button",{staticStyle:{margin:"5px 0 0"},attrs:{block:"",size:"mini",type:"info",round:""},on:{click:function(a){return t.$Util.OpenUrl(t.infoData.link_info)}}},[t._v(t._s(t.$t("task.info[12]")))])],1)])])]),e("van-tabs",{attrs:{border:!1,color:"#4087f1","title-active-color":"#4087f1",background:"#151d31","title-inactive-color":"#bbb","line-width":"60"}},[e("van-tab",{attrs:{title:t.$t("task.info[13]")}},t._l(t.infoData.task_step,(function(a,i){return e("dl",{key:i},[e("dt",[e("label",[t._v(t._s(t.$t("task.info[14]",{index:i+1}))+"：")]),e("span",[t._v(t._s(a.describe))])]),e("dd",[e("van-image",{attrs:{fit:"cover",src:""+a.img},on:{click:function(e){return t.$ImagePreview([""+a.img])}}})],1)])})),0),e("van-tab",{attrs:{title:t.$t("task.info[15]")}},[t.infoData.examine_demo?e("div",t._l(t.infoData.examine_demo,(function(a,i){return e("van-image",{key:i,attrs:{fit:"cover",src:""+a},on:{click:function(e){return t.$ImagePreview([""+a])}}})})),1):e("van-empty",{attrs:{image:"error",description:t.$t("task.info[16]")}})],1)],1)],1):t._e(),t.isLoad?e("van-loading",{staticClass:"DataLoad",attrs:{size:"60px",vertical:""}},[t._v(t._s(t.$t("task.info[17]")))]):t._e(),1==t.infoData.o_status||2==t.infoData.o_status?e("div",{staticStyle:{position:"fixed",bottom:"0",width:"100%",display:"flex","align-items":"center","justify-content":"space-between",padding:"10px 5px"}},[e("van-button",{staticStyle:{"font-size":"16px",margin:"0 5px"},attrs:{block:"",color:"#aaa"},on:{click:t.cancelTask}},[t._v(t._s(t.$t("task.info[18]")))]),1==t.infoData.o_status?e("van-button",{staticStyle:{"font-size":"16px",margin:"0 5px"},attrs:{block:"",type:"danger"},on:{click:t.submitTask}},[t._v(t._s(t.$t("task.info[19]")))]):t._e()],1):t._e()],1)},s=[],o={name:"Show",components:{},props:["taskId"],data(){return{isLoad:!0,infoData:"",exampleImg:[],docTitle:document.title,promoteUrl:""}},computed:{},watch:{},created(){this.$parent.navBarTitle=this.$t("task.info[0]"),this.getTaskinfo(),this.promoteUrl=`${this.InitData.setting.reg_url}/#/register/${this.UserInfo.idcode}`},mounted(){},activated(){},destroyed(){},methods:{getTaskinfo(){this.$Model.TaskOrderInfo(this.taskId,t=>{this.isLoad=!1,1==t.code&&(this.infoData=t.info),this.$nextTick(()=>{1==t.info.is_fx&&new QRCode(document.getElementById("QRCode"),{text:this.promoteUrl,width:110,height:110,correctLevel:QRCode.CorrectLevel.H})})})},submitTask(){if(this.exampleImg.length){const t=this.exampleImg.flatMap(t=>t.url);this.$Model.SubmitTask({order_id:this.taskId,examine_demo:t},t=>{1==t.code&&this.getTaskinfo()})}else this.$Dialog.Toast(this.$t("task.msg"))},cancelTask(){this.$Model.SubmitTask({order_id:this.taskId,status:6},t=>{1==t.code&&this.getTaskinfo()})},afterRead(t){t.status="uploading",t.message=this.$t("upload[0]"),this.uploadImgs(t)},compressImg(t){this.$Util.CompressImg(t.file.type,t.content,750,a=>{let e=new FormData;e.append("token",localStorage["Token"]),e.append("type",3),e.append("image",a,t.file.name),this.$Model.UploadImg(e,a=>{1==a.code?(t.message=this.$t("upload[2]"),t.status="success",t.url=a.url):(t.status="failed",t.message=this.$t("upload[3]"))})})},uploadImgs(t){if(t.length)t.forEach(t=>{if(!t.file.type.match(/image/))return t.status="failed",void(t.message=this.$t("upload[1]"));this.compressImg(t)});else{if(!t.file.type.match(/image/))return t.status="failed",void(t.message=this.$t("upload[1]"));this.compressImg(t)}},saveQRCode(){Html2Canvas(document.getElementById("Promote")).then(t=>{if(window.plus){var a=0,e=t=>{a+=1;var e=new plus.nativeObj.Bitmap;e.loadBase64Data(t,()=>{e.save("_doc/promote"+a+".jpg",{overwrite:!0,format:"jpg"},t=>{plus.gallery.save(t.target,t=>{this.$Dialog.Toast(this.$t("promote[7]"))},t=>{this.$Dialog.Toast(this.$t("promote[8]"))})},t=>{this.$Dialog.Toast(this.$t("promote[8]"))}),setTimeout((function(){e.recycle()}),1e3)},t=>{this.$Dialog.Toast(this.$t("promote[8]"))})};this.$Dialog.Alert(this.$t("promote[11]"),()=>{e(t.toDataURL().replace("data:image/png;base64,",""))})}else this.downCanvas(t.toDataURL())})},downCanvas(t){var a=document.createElement("a"),e=new MouseEvent("click");a.download="promote",a.href=t,a.dispatchEvent(e)}}},n=o,l=(e("c099"),e("2877")),r=Object(l["a"])(n,i,s,!1,null,"33ebc3aa",null);a["default"]=r.exports},ac74:function(t,a,e){},c099:function(t,a,e){"use strict";var i=e("ac74"),s=e.n(i);s.a}}]);